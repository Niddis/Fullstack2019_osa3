{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","_ref","addPerson","newName","newNumber","handleNameChange","handleNumberChange","react_default","a","createElement","onSubmit","value","onChange","type","Persons","persons","deletoi","map","person","key","id","name","number","onClick","Filter","newSearch","handleSearchChange","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","startsWith","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewSearch","_useState9","_useState10","filterPersons","setFilterPersons","_useState11","_useState12","setMessage","useEffect","personService","initialPersons","components_Notification","components_Filter","event","target","personFilter","filter","p","toLowerCase","includes","components_PersonForm","preventDefault","some","existingPerson","find","e","changedPerson","objectSpread","idc","window","confirm","returnedPerson","change","per","setTimeout","catch","error","missing","m","newPersons","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"wLAkBeA,EAhBI,SAAAC,GAA2E,IAAzEC,EAAyED,EAAzEC,UAAWC,EAA8DF,EAA9DE,QAASC,EAAqDH,EAArDG,UAAWC,EAA0CJ,EAA1CI,iBAAkBC,EAAwBL,EAAxBK,mBACpE,OACEC,EAAAC,EAAAC,cAAA,QAAMC,SAAUR,GACdK,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOE,MAAOR,EAASS,SAAUP,KAEzCE,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOE,MAAOP,EAAWQ,SAAUN,KAE7CC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQI,KAAK,UAAb,kBCKOC,EAfC,SAAAb,GAAwB,IAAtBc,EAAsBd,EAAtBc,QAASC,EAAaf,EAAbe,QAQzB,OACET,EAAAC,EAAAC,cAAA,WARiBM,EAAQE,IAAI,SAAAC,GAAM,OACnCX,EAAAC,EAAAC,cAAA,OAAKU,IAAKD,EAAOE,IACfb,EAAAC,EAAAC,cAAA,SAAIS,EAAOG,KAAX,IAAkBH,EAAOI,QACzBf,EAAAC,EAAAC,cAAA,UAAQc,QAAS,kBAAMP,EAAQE,EAAOE,MAAtC,eCISI,EARA,SAAAvB,GAAqC,IAAnCwB,EAAmCxB,EAAnCwB,UAAWC,EAAwBzB,EAAxByB,mBAC1B,OACEnB,EAAAC,EAAAC,cAAA,0CACqBF,EAAAC,EAAAC,cAAA,SAAOE,MAAOc,EAAWb,SAAUc,sBCJtDC,EAAU,eAsBDC,EApBD,WAEZ,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkB5BL,EAfA,SAAAM,GAEb,OADgBL,IAAMM,KAAKR,EAASO,GACrBH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAa5BL,EAVA,SAACR,EAAIc,GAElB,OADgBL,IAAMO,IAAN,GAAAC,OAAaV,EAAb,KAAAU,OAAwBjB,GAAMc,GAC/BH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAQ5BL,EALC,SAAAR,GAEd,OADgBS,IAAMS,OAAN,GAAAD,OAAgBV,EAAhB,KAAAU,OAA2BjB,IAC5BW,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCsB5BM,EAxCM,SAAAtC,GAAe,IAAbuC,EAAavC,EAAbuC,QAqBrB,OAAgB,OAAZA,EACK,KAGLA,EAAQC,WAAW,UAEnBlC,EAAAC,EAAAC,cAAA,OAAKiC,MAhBU,CACjBC,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KAUXT,GAMHjC,EAAAC,EAAAC,cAAA,OAAKiC,MAjCmB,CACxBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KA2BXT,WCoFQU,EAjHH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTpC,EADSsC,EAAA,GACAG,EADAH,EAAA,GAAAI,EAEcL,mBAAS,IAFvBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAETtD,EAFSuD,EAAA,GAEAC,EAFAD,EAAA,GAAAE,EAGkBR,mBAAS,IAH3BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGTxD,EAHSyD,EAAA,GAGEC,EAHFD,EAAA,GAAAE,EAIkBX,mBAAS,IAJ3BY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAITtC,EAJSuC,EAAA,GAIEC,EAJFD,EAAA,GAAAE,EAK0Bd,mBAAS,IALnCe,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAKTE,EALSD,EAAA,GAKME,EALNF,EAAA,GAAAG,EAMclB,mBAAS,MANvBmB,EAAAjB,OAAAC,EAAA,EAAAD,CAAAgB,EAAA,GAMT9B,EANS+B,EAAA,GAMAC,EANAD,EAAA,GAQhBE,oBAAU,WACRC,IAEG3C,KAAK,SAAA4C,GACJnB,EAAWmB,GACXN,EAAiBM,MAEpB,IA+EH,OACEpE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACmE,EAAD,CAAcpC,QAASA,IACvBjC,EAAAC,EAAAC,cAACoE,EAAD,CAAQpD,UAAWA,EAAWC,mBAzEP,SAACoD,GAC1Bb,EAAaa,EAAMC,OAAOpE,OAC1B,IAAMqE,EAAejE,EAAQkE,OAAO,SAAAC,GAAC,OAAIA,EAAE7D,KAAK8D,cAAcC,SAASN,EAAMC,OAAOpE,MAAMwE,iBAC1Fd,EAAiBW,MAuEfzE,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAC4E,EAAD,CACEnF,UAtEY,SAAC4E,GAEjB,GADAA,EAAMQ,iBACFvE,EAAQwE,KAAK,SAAAL,GAAC,OAAIA,EAAE7D,OAASlB,IAAU,CACzC,IAAMqF,EAAiBzE,EAAQ0E,KAAK,SAAAC,GAAC,OAAIA,EAAErE,OAASlB,IAC9CwF,EAAarC,OAAAsC,EAAA,EAAAtC,CAAA,GAAOkC,EAAP,CAAuBlE,OAAQlB,IAC5CyF,EAAMF,EAAcvE,GACtB0E,OAAOC,QAAP,GAAA1D,OAAkBlC,EAAlB,2DACFuE,EACUmB,EAAKF,GACZ5D,KAAK,SAAAiE,GACJ,IAAMC,EAASlF,EAAQE,IAAI,SAAAiF,GAAG,OAAIA,EAAI9E,KAAOyE,EAAMK,EAAMF,IACzDxC,EAAWyC,GACX5B,EAAiB4B,GACjBzB,EAAU,eAAAnC,OAAa2D,EAAe3E,KAA5B,qBACV8E,qBAAW,WACT3B,EAAW,OACV,OAEJ4B,MAAM,SAAAC,GACL7B,EAAU,qBAAAnC,OAAmBsD,EAActE,KAAjC,qBACV8E,qBAAW,WACT3B,EAAW,OACV,KACH,IAAM8B,EAAUvF,EAAQkE,OAAO,SAAAsB,GAAC,OAAIA,EAAEnF,KAAOyE,IAC7CrC,EAAW8C,GACXjC,EAAiBiC,UAQvB5B,EAJkB,CAChBrD,KAAMlB,EACNmB,OAAQlB,IAIP2B,KAAK,SAAAiE,GACJ,IAAMQ,EAAazF,EAAQsB,OAAO2D,GAClCxC,EAAWgD,GACXnC,EAAiBmC,GACjBhC,EAAU,GAAAnC,OAAI2D,EAAe3E,KAAnB,gBACV8E,qBAAW,WACT3B,EAAW,OACV,OAGTb,EAAW,IACXG,EAAa,KAyBT3D,QAASA,EACTC,UAAWA,EACXC,iBAvFmB,SAACyE,GACxBnB,EAAWmB,EAAMC,OAAOpE,QAuFpBL,mBApFqB,SAACwE,GAC1BhB,EAAagB,EAAMC,OAAOpE,UAqFxBJ,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACgG,EAAD,CAAS1F,QAASqD,EAAepD,QA5BhB,SAAAI,GACnB,IAAM8D,EAAInE,EAAQ0E,KAAK,SAAAP,GAAC,OAAIA,EAAE9D,KAAOA,IACrC,GAAI0E,OAAOC,QAAP,gBAAA1D,OAA+B6C,EAAE7D,OAAS,CAC5CqD,EAAsBtD,GACtB,IAAMoF,EAAazF,EAAQkE,OAAO,SAAAiB,GAAG,OAAIA,EAAI9E,KAAOA,IACpDoC,EAAWgD,GACXnC,EAAiBmC,GACjBhC,EAAU,GAAAnC,OAAI6C,EAAE7D,KAAN,iBACV8E,qBAAW,WACT3B,EAAW,OACV,WC7FTkC,IAASC,OAAOpG,EAAAC,EAAAC,cAACmG,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.695bf5a3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        nimi: <input value={newName} onChange={handleNameChange}/>\r\n      </div>\r\n      <div>\r\n        numero: <input value={newNumber} onChange={handleNumberChange}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">lisää</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, deletoi}) => {\r\n  const rows = () => persons.map(person => \r\n    <div key={person.id}>\r\n      <p>{person.name} {person.number}</p>\r\n      <button onClick={() => deletoi(person.id)}>poista</button>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {rows()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({newSearch, handleSearchChange}) => {\r\n  return (\r\n    <div>\r\n      rajaa näytettäviä: <input value={newSearch} onChange={handleSearchChange}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll= () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletep = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletep }","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n  const notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (message.startsWith('Virhe:')) {\r\n    return (\r\n      <div style={errorStyle}>\r\n      {message}\r\n    </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react';\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport { setTimeout } from 'timers';\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [filterPersons, setFilterPersons] = useState([])\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n        setFilterPersons(initialPersons)\n      })\n  }, [])\n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n    const personFilter = persons.filter(p => p.name.toLowerCase().includes(event.target.value.toLowerCase()))\n    setFilterPersons(personFilter)\n  }\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.some(p => p.name === newName)) {\n      const existingPerson = persons.find(e => e.name === newName)\n      const changedPerson = {...existingPerson, number: newNumber}\n      const idc = changedPerson.id\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        personService\n          .update(idc, changedPerson)\n          .then(returnedPerson => {\n            const change = persons.map(per => per.id !== idc ? per : returnedPerson)\n            setPersons(change)\n            setFilterPersons(change)\n            setMessage(`Henkilön ${returnedPerson.name} numero muutettu`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n          .catch(error => {\n            setMessage(`Virhe: henkilö ${changedPerson.name} on jo poistettu`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n            const missing = persons.filter(m => m.id !== idc)\n            setPersons(missing)\n            setFilterPersons(missing)\n          })\n      }\n    } else {\n      const personObj = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObj)\n        .then(returnedPerson => {\n          const newPersons = persons.concat(returnedPerson)\n          setPersons(newPersons)\n          setFilterPersons(newPersons)\n          setMessage(`${returnedPerson.name} lisätty`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = id => {\n    const p = persons.find(p => p.id === id)\n    if (window.confirm(`Poistetaanko ${p.name}`)) {\n      personService.deletep(id)\n      const newPersons = persons.filter(per => per.id !== id)\n      setPersons(newPersons)\n      setFilterPersons(newPersons)\n      setMessage(`${p.name} poistettiin`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 3000)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={message} />\n      <Filter newSearch={newSearch} handleSearchChange={handleSearchChange}/>\n      <h3>Lisää uusi</h3>\n      <PersonForm \n        addPerson={addPerson} \n        newName={newName} \n        newNumber={newNumber} \n        handleNameChange={handleNameChange} \n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numerot</h3>\n      <Persons persons={filterPersons} deletoi={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}